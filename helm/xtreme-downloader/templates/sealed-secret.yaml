# This file must be generated with kubeseal before deploying.
#
# The xtreme-secrets Secret needs TWO keys:
#
#   postgres-password       → password for the 'xtreme' DB user (app-specific)
#   postgres-admin-password → postgres superuser password (same value as the one
#                             sealed in homelab/argocd/infrastructure/databases-sealed-secret.yaml,
#                             re-sealed here for the xtreme-downloader namespace)
#
# Generate with:
#
#   kubectl create secret generic xtreme-secrets \
#     --namespace xtreme-downloader \
#     --dry-run=client \
#     --from-literal=postgres-password='XTREME_DB_USER_PASSWORD' \
#     --from-literal=postgres-admin-password='POSTGRES_SUPERUSER_PASSWORD' \
#     -o yaml \
#   | kubeseal \
#       --controller-name sealed-secrets-controller \
#       --controller-namespace kube-system \
#       --format yaml \
#   > helm/xtreme-downloader/templates/sealed-secret.yaml
#
# Then commit and push. ArgoCD will unseal it before the db-provision Job runs.
#
# Why is postgres-admin-password here AND in the databases namespace?
#   SealedSecrets are namespace-scoped — the same plaintext produces different
#   ciphertext for each namespace. Having it in both is safe (it's encrypted).
#   The db-provision Job needs it to CREATE DATABASE/USER on the shared PG.
